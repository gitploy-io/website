"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1248],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?o.createElement(h,a(a({ref:t},c),{},{components:n})):o.createElement(h,a({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var p=2;p<i;p++)a[p]=n[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},282:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var o=n(7462),r=n(3366),i=(n(7294),n(3905)),a=["components"],l={sidebar_position:3},s="Deployment",p={unversionedId:"concepts/deployment",id:"concepts/deployment",title:"Deployment",description:"Deploy & Rollback",source:"@site/docs/concepts/deployment.md",sourceDirName:"concepts",slug:"/concepts/deployment",permalink:"/docs/concepts/deployment",editUrl:"https://github.com/gitploy-io/website/tree/main/docs/concepts/deployment.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"deploy.yml",permalink:"/docs/concepts/deploy.yml"},next:{title:"Review",permalink:"/docs/concepts/review"}},c=[{value:"Deploy &amp; Rollback",id:"deploy--rollback",children:[{value:"Deploy",id:"deploy",children:[],level:3},{value:"Rollback",id:"rollback",children:[],level:3}],level:2},{value:"Deployment Status",id:"deployment-status",children:[],level:2}],u={toc:c};function d(e){var t=e.components,l=(0,r.Z)(e,a);return(0,i.kt)("wrapper",(0,o.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"deployment"},"Deployment"),(0,i.kt)("h2",{id:"deploy--rollback"},"Deploy & Rollback"),(0,i.kt)("h3",{id:"deploy"},"Deploy"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Gitploy provides an intuitive UI that allows users to deploy a specific ",(0,i.kt)("inlineCode",{parentName:"strong"},"ref"),".")," The UI provides three types of ",(0,i.kt)("inlineCode",{parentName:"p"},"ref"),": ",(0,i.kt)("em",{parentName:"p"},"commit"),", ",(0,i.kt)("em",{parentName:"p"},"branch"),", and ",(0,i.kt)("em",{parentName:"p"},"tag"),". The UI shows a list of options for each type. For example, the UI shows the current commit list with information such as SHA, description, committer if the user selects a commit."),(0,i.kt)("p",null,"When the user selects ",(0,i.kt)("inlineCode",{parentName:"p"},"ref"),", an icon indicating the commit's status appears on the right, and you can check the subset of contexts by clicking the icon. This information can be handy if you use the ",(0,i.kt)("inlineCode",{parentName:"p"},"required_contexts")," field, which specifies a subset of contexts that must be ",(0,i.kt)("inlineCode",{parentName:"p"},"success"),"."),(0,i.kt)("p",null,"After that, when you click the deploy button, Gitploy sends a deployment request to GitHub. The selected ",(0,i.kt)("inlineCode",{parentName:"p"},"ref")," is used as a request parameter when requesting. And other parameters are filled with ",(0,i.kt)("inlineCode",{parentName:"p"},"deploy.yml")," field values."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Deploy",src:n(5012).Z,width:"745",height:"508"})),(0,i.kt)("h3",{id:"rollback"},"Rollback"),(0,i.kt)("p",null,"We generally run ",(0,i.kt)("inlineCode",{parentName:"p"},"git revert")," and merge the code to roll back. But in this process, we must wait for CI for a long time, which causes an impact on users. Therefore, the rollback must be done quickly and accurately."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Gitploy provides a quick and easy one-click rollback.")," The UI shows a list of completed deployments of which status is ",(0,i.kt)("inlineCode",{parentName:"p"},"success")," when the user selects a runtime environment. And the first option is just the previous deployment."),(0,i.kt)("p",null,"After that, when the user clicks rollback, Gitploy fetches the payload from the previous deployment and sends a deployment request with the payload to Github. The ",(0,i.kt)("inlineCode",{parentName:"p"},"ref")," from the previous distribution is used in this case. ",(0,i.kt)("em",{parentName:"p"},"However, if the ref of the previous deployment is a branch, Gitploy uses SHA to prevent the head of the branch from being deployed.")," And ",(0,i.kt)("inlineCode",{parentName:"p"},"auto_merge: false")," is set internally to avoid merge conflicts when rollback."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Rollback",src:n(1163).Z,width:"757",height:"392"})),(0,i.kt)("h2",{id:"deployment-status"},"Deployment Status"),(0,i.kt)("p",null,"Gitploy provides the UI to view the status after deployment. If you click ",(0,i.kt)("inlineCode",{parentName:"p"},"View Detail")," of the deployment history on the Home tab, the link will take you to the page. "),(0,i.kt)("p",null,"The page allows you to follow up on the changes through the status field. Each status has a description, update time, and a ",(0,i.kt)("inlineCode",{parentName:"p"},"View")," link. The ",(0,i.kt)("inlineCode",{parentName:"p"},"View")," link, when clicked, takes you directly to a deployment tooling and displays details."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Status",src:n(1650).Z,width:"662",height:"441"})))}d.isMDXComponent=!0},5012:function(e,t,n){t.Z=n.p+"assets/images/deploy-0440adc69c7c1a7820c2656e6a598737.png"},1163:function(e,t,n){t.Z=n.p+"assets/images/rollback-ed1e91995b7db5e41902c411ae60ff74.png"},1650:function(e,t,n){t.Z=n.p+"assets/images/status-375dfd78e3356b48e832ee9955cab999.png"}}]);